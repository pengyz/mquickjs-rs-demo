// Generated by ridl-tool. DO NOT EDIT.

#[allow(non_snake_case)]
mod __ridl_agg_symbols {
    use core::ffi::c_void;

    // externs for all js_* functions
{%- for f in functions %}
    extern "C" {
        pub fn js_{{ f.name|lower }}(ctx: *mut mquickjs_ffi::JSContext, this_val: mquickjs_ffi::JSValue, argc: i32, argv: *mut mquickjs_ffi::JSValue) -> mquickjs_ffi::JSValue;
    }
{%- endfor %}

{%- for i in interfaces %}
{%- for m in i.methods %}
    extern "C" {
        pub fn js_{{ i.name|lower }}_{{ m.name|lower }}(ctx: *mut mquickjs_ffi::JSContext, this_val: mquickjs_ffi::JSValue, argc: i32, argv: *mut mquickjs_ffi::JSValue) -> mquickjs_ffi::JSValue;
    }
{%- endfor %}
{%- endfor %}

{%- for c in classes %}
{%- for m in c.methods %}
    extern "C" {
        pub fn js_{{ c.name|lower }}_{{ m.name|lower }}(ctx: *mut mquickjs_ffi::JSContext, this_val: mquickjs_ffi::JSValue, argc: i32, argv: *mut mquickjs_ffi::JSValue) -> mquickjs_ffi::JSValue;
    }
{%- endfor %}
{%- endfor %}

    #[used]
    #[allow(non_upper_case_globals)]
    static __ridl_keepalive_ptrs: [*const c_void; {{ functions|length }}
{%- set methods_total = 0 -%}
{%- for i in interfaces -%}
{%- set methods_total = methods_total + (i.methods|length) -%}
{%- endfor -%}
{%- for c in classes -%}
{%- set methods_total = methods_total + (c.methods|length) -%}
{%- endfor -%}
+ {{ methods_total }}] = [
{%- for f in functions %}
        js_{{ f.name|lower }} as *const c_void,
{%- endfor %}
{%- for i in interfaces %}
{%- for m in i.methods %}
        js_{{ i.name|lower }}_{{ m.name|lower }} as *const c_void,
{%- endfor %}
{%- endfor %}
{%- for c in classes %}
{%- for m in c.methods %}
        js_{{ c.name|lower }}_{{ m.name|lower }} as *const c_void,
{%- endfor %}
{%- endfor %}
    ];
}

#[inline(always)]
pub fn ensure_symbols() {
    // Force reference to keepalive table so the linker keeps referenced symbols.
    let _ = __ridl_agg_symbols::__ridl_keepalive_ptrs.as_ptr();
}
