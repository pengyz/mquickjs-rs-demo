// Generated symbol references for RIDL extensions
{%- for function in functions %}
use crate::generated::glue::js_{{ function.name|lower }};
{%- endfor %}
{%- for interface in interfaces %}
{%- for method in interface.methods %}
use crate::generated::glue::js_{{ interface.name|lower }}_{{ method.name|lower }};
{%- endfor %}
{%- endfor %}

// Use all glue functions to ensure they're linked
pub fn ensure_symbols() {
{%- for function in functions %}
    let _ = js_{{ function.name|lower }} as unsafe extern "C" fn(*mut mquickjs_sys::JSContext, mquickjs_sys::JSValue, i32, *mut mquickjs_sys::JSValue) -> mquickjs_sys::JSValue;
{%- endfor %}
{%- for interface in interfaces %}
{%- for method in interface.methods %}
    let _ = js_{{ interface.name|lower }}_{{ method.name|lower }} as unsafe extern "C" fn(*mut mquickjs_sys::JSContext, mquickjs_sys::JSValue, i32, *mut mquickjs_sys::JSValue) -> mquickjs_sys::JSValue;
{%- endfor %}
{%- endfor %}
}