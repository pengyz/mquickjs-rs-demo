[workspace]
members = [
    "deps/mquickjs-sys",
    "deps/mquickjs-rs",
    "deps/ridl-tool",
    "ridl-modules/stdlib",
    "ridl-modules/stdlib_demo",
    "ridl-modules/stdlib_demo2",
    ".", "deps/mquickjs-build", "xtask",
]

[package]
name = "mquickjs-demo"
version = "0.1.0"
edition = "2024"

[[bin]]
name = "mquickjs-demo"
path = "src/main.rs"

[dependencies]
mquickjs-rs = { path = "deps/mquickjs-rs" }
mquickjs-sys = { path = "deps/mquickjs-sys" }

# RIDL modules selected for this app
stdlib = { path = "ridl-modules/stdlib" }
stdlib_demo = { path = "ridl-modules/stdlib_demo" }
stdlib_demo2 = { path = "ridl-modules/stdlib_demo2" }

[features]
# Demo app defaults to having RIDL stdlib extensions enabled.
default = ["ridl-extensions"]

# App opt-in for RIDL stdlib extensions.
ridl-extensions = ["mquickjs-rs/ridl-extensions"]
